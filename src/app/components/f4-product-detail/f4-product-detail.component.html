<section>
  <div class="header">
    <h1>Formulario de Registro</h1>
  </div>

  <form [formGroup]="applyForm">
    <div class="form-group">
      <div class="input-container">
        <label for="id">ID</label>
        <input id="id" type="text" class="form-control" formControlName="id" />

        <div *ngIf="applyForm.controls['id'].invalid && (applyForm.controls['id'].dirty || applyForm.controls['id'].touched)" class="alert">
          <div class="invalid-notification" *ngIf="applyForm.controls['id'].hasError('required')">
            ID es requerido!
          </div>
          <div class="invalid-notification" *ngIf="applyForm.controls['id'].hasError('minlength')">
            ID tiene que tener mínimo {{ applyForm.controls['id'].getError('minlength').requiredLength }} caracteres!
          </div>
          <div class="invalid-notification" *ngIf="applyForm.controls['id'].hasError('maxlength')">
            ID tiene que tener máximo {{ applyForm.controls['id'].getError('maxlength').requiredLength }} caracteres!
          </div>
        </div>
      </div>

      <div class="input-container">
        <label for="name">Nombre</label>
        <input
          id="name"
          type="text"
          class="form-control"
          formControlName="name"
          placeholder="Tarjeta de Crédito"
        />
        <div *ngIf="applyForm.controls['name'].invalid && (applyForm.controls['name'].dirty || applyForm.controls['name'].touched)" class="alert">
          <div class="invalid-notification" *ngIf="applyForm.controls['name'].hasError('required')">
            Nombre es requerido!
          </div>
          <div class="invalid-notification" *ngIf="applyForm.controls['name'].hasError('minlength')">
            Nombre tiene que tener mínimo {{ applyForm.controls['name'].getError('minlength').requiredLength }} caracteres!
          </div>
          <div class="invalid-notification" *ngIf="applyForm.controls['name'].hasError('maxlength')">
            Nombre tiene que tener máximo {{ applyForm.controls['name'].getError('maxlength').requiredLength }} caracteres!
          </div>
        </div>
      </div>
    </div>

    <div class="form-group">
      <div class="input-container">
        <label for="description">Descripción</label>
        <input
          id="description"
          type="text"
          class="form-control"
          formControlName="description"
          placeholder="Descripción del producto"
        />
        <div *ngIf="applyForm.controls['description'].invalid &&
            (applyForm.controls['description'].dirty ||
              applyForm.controls['description'].touched)" class="alert">
          <div class="invalid-notification" *ngIf="applyForm.controls['description'].hasError('required')">
            Descripción es requerida!
          </div>
          <div class="invalid-notification" *ngIf="applyForm.controls['description'].hasError('minlength')">
            Descripción tiene que tener mínimo {{ applyForm.controls['description'].getError('minlength').requiredLength }} caracteres!
          </div>
          <div class="invalid-notification" *ngIf="applyForm.controls['description'].hasError('maxlength')">
            Descripción tiene que tener máximo {{ applyForm.controls['description'].getError('maxlength').requiredLength }} caracteres!
          </div>
        </div>
      </div>

      <div class="input-container">
        <label for="logo">Logo</label>
        <input
          id="logo"
          type="text"
          class="form-control"
          formControlName="logo"
          placeholder="Imagen del producto"
        />
        <div *ngIf="applyForm.controls['logo'].invalid &&
            (applyForm.controls['logo'].dirty ||
              applyForm.controls['logo'].touched)" class="alert">
          <div class="invalid-notification" *ngIf="applyForm.controls['logo'].hasError('required')">
            Logo es requerido!
          </div>
        </div>
      </div>
    </div>

    <div class="form-group">
      <div class="input-container">
        <label for="date_release">Fecha Liberación</label>
        <input
          id="date_release"
          type="date"
          class="form-control"
          formControlName="date_release"
          [min]="minDate"
          (change)="updateMinDateRevision($event)"
        />
        <div *ngIf="applyForm.controls['date_release'].invalid &&
            (applyForm.controls['date_release'].dirty ||
              applyForm.controls['date_release'].touched)" class="alert">
          <div class="invalid-notification" *ngIf="applyForm.controls['date_release'].hasError('required')">
            Fecha es requerida!
          </div>
        </div>
      </div>

      <div class="input-container">
        <label for="date_revision">Fecha Revisión</label>
        <input
          id="date_revision"
          type="date"
          class="form-control"
          formControlName="date_revision"
          [min]="minDateRevision"
        />
        <div *ngIf="applyForm.controls['date_revision'].invalid &&
            (applyForm.controls['date_revision'].dirty ||
              applyForm.controls['date_revision'].touched)" class="alert">
          <div class="invalid-notification" *ngIf="applyForm.controls['date_revision'].errors">
            Fecha es requerida!
          </div>
        </div>
      </div>
    </div>

    <div class="btn-group" style="margin-top: 1rem;">
      <button
        id="restart-btn"
        type="button"
        (click)="resetForm()"
        class="grey-btn">
        Reiniciar
      </button>
      <button
        id="send-btn"
        type="submit"
        (click)="submitApplication()"
        class="primary-btn">
        Enviar
      </button>
    </div>
  </form>
</section>
